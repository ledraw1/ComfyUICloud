{"last_node_id": 92, "last_link_id": 156, "nodes": [{"id": 6, "type": "CLIPTextEncode", "pos": {"0": 420, "1": 80}, "size": {"0": 210, "1": 54}, "flags": {"collapsed": false}, "order": 18, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 113}, {"name": "text", "type": "STRING", "link": 117, "slot_index": 1, "widget": {"name": "text"}}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [86], "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": [""]}, {"id": 71, "type": "Int Literal", "pos": {"0": 30, "1": 610}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 0, "mode": 0, "inputs": [], "outputs": [{"name": "INT", "type": "INT", "links": [103, 104], "slot_index": 0, "shape": 3}], "title": "Height", "properties": {"Node name for S&R": "Int Literal"}, "widgets_values": [1024]}, {"id": 13, "type": "SamplerCustomAdvanced", "pos": {"0": 1190, "1": 90}, "size": {"0": 325.4449768066406, "1": 377.5777587890625}, "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "noise", "type": "NOISE", "link": 37, "slot_index": 0}, {"name": "guider", "type": "GUIDER", "link": 30, "slot_index": 1}, {"name": "sampler", "type": "SAMPLER", "link": 19, "slot_index": 2}, {"name": "sigmas", "type": "SIGMAS", "link": 20, "slot_index": 3}, {"name": "latent_image", "type": "LATENT", "link": 23, "slot_index": 4}], "outputs": [{"name": "output", "type": "LATENT", "links": [24], "slot_index": 0, "shape": 3}, {"name": "denoised_output", "type": "LATENT", "links": null, "shape": 3}], "properties": {"Node name for S&R": "SamplerCustomAdvanced"}, "widgets_values": []}, {"id": 60, "type": "FluxGuidance", "pos": {"0": 420, "1": 180}, "size": {"0": 211.60000610351562, "1": 58}, "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "conditioning", "type": "CONDITIONING", "link": 86}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [87], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "FluxGuidance"}, "widgets_values": [4], "color": "#323", "bgcolor": "#535"}, {"id": 5, "type": "EmptyLatentImage", "pos": {"0": 18, "1": 798}, "size": {"0": 330.5548400878906, "1": 78}, "flags": {}, "order": 11, "mode": 0, "inputs": [{"name": "width", "type": "INT", "link": 101, "widget": {"name": "width"}}, {"name": "height", "type": "INT", "link": 103, "widget": {"name": "height"}}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [23], "slot_index": 0}], "properties": {"Node name for S&R": "EmptyLatentImage"}, "widgets_values": [832, 1216, 1]}, {"id": 17, "type": "BasicScheduler", "pos": {"0": 394, "1": 806}, "size": {"0": 281.2428283691406, "1": 106}, "flags": {}, "order": 19, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 93, "slot_index": 0}], "outputs": [{"name": "SIGMAS", "type": "SIGMAS", "links": [20], "shape": 3}], "properties": {"Node name for S&R": "BasicScheduler"}, "widgets_values": ["simple", 30, 1]}, {"id": 16, "type": "KSamplerSelect", "pos": {"0": 395, "1": 962}, "size": {"0": 268.2277526855469, "1": 58}, "flags": {}, "order": 1, "mode": 0, "inputs": [], "outputs": [{"name": "SAMPLER", "type": "SAMPLER", "links": [19], "shape": 3}], "properties": {"Node name for S&R": "KSamplerSelect"}, "widgets_values": ["euler"]}, {"id": 61, "type": "ModelSamplingFlux", "pos": {"0": 378, "1": 1066}, "size": {"0": 321.8402404785156, "1": 122}, "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 112}, {"name": "width", "type": "INT", "link": 102, "widget": {"name": "width"}}, {"name": "height", "type": "INT", "link": 104, "widget": {"name": "height"}}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [93, 94], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "ModelSamplingFlux"}, "widgets_values": [1.15, 0.5, 1024, 1024]}, {"id": 12, "type": "UNETLoader", "pos": {"0": 20, "1": 80}, "size": {"0": 315, "1": 82}, "flags": {}, "order": 2, "mode": 0, "inputs": [], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [111, 135, 144], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "UNETLoader"}, "widgets_values": ["FluxDev\\flux_dev.safetensors", "fp8_e4m3fn"]}, {"id": 78, "type": "UpscaleModelLoader", "pos": {"0": 1608, "1": 48}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 3, "mode": 0, "inputs": [], "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [133], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "UpscaleModelLoader"}, "widgets_values": ["DAT_x4.pth"]}, {"id": 82, "type": "PreviewImage", "pos": {"0": 1943, "1": 54}, "size": {"0": 195.74191284179688, "1": 246}, "flags": {}, "order": 26, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 126}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 84, "type": "PreviewImage", "pos": {"0": 2157, "1": 54}, "size": {"0": 173.09091186523438, "1": 246}, "flags": {}, "order": 29, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 128}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 83, "type": "PreviewImage", "pos": {"0": 2347, "1": 54}, "size": {"0": 192.5454559326172, "1": 246.72727966308594}, "flags": {}, "order": 28, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 127}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 87, "type": "Image Filter Adjustments", "pos": {"0": 1645, "1": 218}, "size": {"0": 315, "1": 226}, "flags": {"collapsed": true}, "order": 30, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 134}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [143], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "Image Filter Adjustments"}, "widgets_values": [-0.02, 1.02, 1.02, 1.02, 0, 0, 0.02, "false"]}, {"id": 81, "type": "UltralyticsDetectorProvider", "pos": {"0": 1616, "1": 372}, "size": {"0": 315, "1": 78}, "flags": {"collapsed": true}, "order": 4, "mode": 0, "inputs": [], "outputs": [{"name": "BBOX_DETECTOR", "type": "BBOX_DETECTOR", "links": [150], "slot_index": 0, "shape": 3}, {"name": "SEGM_DETECTOR", "type": "SEGM_DETECTOR", "links": [], "slot_index": 1, "shape": 3}], "properties": {"Node name for S&R": "UltralyticsDetectorProvider"}, "widgets_values": ["bbox/face_yolov8m.pt"]}, {"id": 75, "type": "SaveImage", "pos": {"0": 1618, "1": 493}, "size": {"0": 634, "1": 478}, "flags": {}, "order": 31, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 143}], "outputs": [], "properties": {}, "widgets_values": ["%date:yyyy-MM-dd%/Flux/%date:yyyy-MM-dd hhmmss%"]}, {"id": 8, "type": "VAEDecode", "pos": {"0": 1260, "1": 530}, "size": {"0": 210, "1": 46}, "flags": {}, "order": 23, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 24}, {"name": "vae", "type": "VAE", "link": 12}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [149, 151], "slot_index": 0}], "properties": {"Node name for S&R": "VAEDecode"}, "widgets_values": []}, {"id": 70, "type": "Int Literal", "pos": {"0": 30, "1": 500}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 5, "mode": 0, "inputs": [], "outputs": [{"name": "INT", "type": "INT", "links": [101, 102], "slot_index": 0, "shape": 3}], "title": "Width", "properties": {"Node name for S&R": "Int Literal"}, "widgets_values": [1024]}, {"id": 22, "type": "BasicGuider", "pos": {"0": 420, "1": 280}, "size": {"0": 196.9998779296875, "1": 62.66668701171875}, "flags": {"collapsed": false}, "order": 21, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 94, "slot_index": 0}, {"name": "conditioning", "type": "CONDITIONING", "link": 87, "slot_index": 1}], "outputs": [{"name": "GUIDER", "type": "GUIDER", "links": [30], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "BasicGuider"}, "widgets_values": []}, {"id": 76, "type": "ComfyUIStyler", "pos": {"0": 760, "1": 90}, "size": {"0": 379, "1": 926}, "flags": {}, "order": 13, "mode": 0, "inputs": [{"name": "text_positive", "type": "STRING", "link": 116, "widget": {"name": "text_positive"}}, {"name": "text_negative", "type": "STRING", "link": 118, "widget": {"name": "text_negative"}}], "outputs": [{"name": "text_positive", "type": "STRING", "links": [117, 138], "slot_index": 0, "shape": 3}, {"name": "text_negative", "type": "STRING", "links": [140], "slot_index": 1, "shape": 3}], "properties": {"Node name for S&R": "ComfyUIStyler"}, "widgets_values": ["", "", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", "None", false]}, {"id": 77, "type": "PrimitiveNode", "pos": {"0": 430, "1": 390}, "size": {"0": 210, "1": 76}, "flags": {"collapsed": true}, "order": 6, "mode": 0, "inputs": [], "outputs": [{"name": "STRING", "type": "STRING", "links": [118], "widget": {"name": "text_negative"}}], "properties": {"Run widget replace on values": false}, "widgets_values": [""]}, {"id": 90, "type": "PreviewImage", "pos": {"0": 1180, "1": 649}, "size": {"0": 391.2893371582031, "1": 376.93218994140625}, "flags": {}, "order": 25, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 151}], "outputs": [], "properties": {"Node name for S&R": "PreviewImage"}, "widgets_values": []}, {"id": 88, "type": "CLIPTextEncode", "pos": {"0": 1603, "1": 279}, "size": {"0": 215.39999389648438, "1": 54}, "flags": {"collapsed": true}, "order": 15, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 152}, {"name": "text", "type": "STRING", "link": 138, "widget": {"name": "text"}}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [139, 145], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": [""]}, {"id": 89, "type": "CLIPTextEncode", "pos": {"0": 1607, "1": 326}, "size": {"0": 234.89999389648438, "1": 55.5}, "flags": {"collapsed": true}, "order": 16, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 153}, {"name": "text", "type": "STRING", "link": 140, "widget": {"name": "text"}}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [142, 146], "shape": 3}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": [""]}, {"id": 10, "type": "VAELoader", "pos": {"0": 31, "1": 206}, "size": {"0": 315, "1": 58}, "flags": {"collapsed": true}, "order": 7, "mode": 0, "inputs": [], "outputs": [{"name": "VAE", "type": "VAE", "links": [12, 147, 148], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "VAELoader"}, "widgets_values": ["flux_ae.safetensors"]}, {"id": 11, "type": "DualCLIPLoader", "pos": {"0": 29, "1": 256}, "size": {"0": 315, "1": 106}, "flags": {"collapsed": true}, "order": 8, "mode": 0, "inputs": [], "outputs": [{"name": "CLIP", "type": "CLIP", "links": [154], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "DualCLIPLoader"}, "widgets_values": ["t5xxl_fp16.safetensors", "clip_l.safetensors", "flux"]}, {"id": 92, "type": "LongCLIPTextEncodeFlux", "pos": {"0": 15, "1": 324}, "size": {"0": 315, "1": 58}, "flags": {}, "order": 12, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 154}], "outputs": [{"name": "CLIP", "type": "CLIP", "links": [152, 153, 155, 156], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "LongCLIPTextEncodeFlux"}, "widgets_values": ["longclip-L.pt"]}, {"id": 79, "type": "FaceDetailer", "pos": {"0": 1888, "1": 368}, "size": {"0": 520, "1": 1120}, "flags": {"collapsed": true}, "order": 24, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 149}, {"name": "model", "type": "MODEL", "link": 135}, {"name": "clip", "type": "CLIP", "link": 155}, {"name": "vae", "type": "VAE", "link": 148}, {"name": "positive", "type": "CONDITIONING", "link": 139}, {"name": "negative", "type": "CONDITIONING", "link": 142}, {"name": "bbox_detector", "type": "BBOX_DETECTOR", "link": 150, "slot_index": 6}, {"name": "sam_model_opt", "type": "SAM_MODEL", "link": null, "slot_index": 7, "shape": 7}, {"name": "segm_detector_opt", "type": "SEGM_DETECTOR", "link": null, "shape": 7}, {"name": "detailer_hook", "type": "DETAILER_HOOK", "link": null, "shape": 7}, {"name": "scheduler_func_opt", "type": "SCHEDULER_FUNC", "link": null, "shape": 7}], "outputs": [{"name": "image", "type": "IMAGE", "links": [126, 129], "slot_index": 0, "shape": 3}, {"name": "cropped_refined", "type": "IMAGE", "links": [127], "slot_index": 1, "shape": 6}, {"name": "cropped_enhanced_alpha", "type": "IMAGE", "links": [128], "slot_index": 2, "shape": 6}, {"name": "mask", "type": "MASK", "links": null, "shape": 3}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "links": null, "shape": 3}, {"name": "cnet_images", "type": "IMAGE", "links": null, "shape": 6}], "properties": {"Node name for S&R": "FaceDetailer"}, "widgets_values": [256, true, 768, 162499795491196, "randomize", 20, 5, "dpmpp_3m_sde_gpu", "karras", 0.4, 5, true, true, 0.5, 10, 3, "center-1", 0, 0.93, 0, 0.7, "False", 10, "", 1, false, 10]}, {"id": 25, "type": "RandomNoise", "pos": {"0": 19, "1": 924}, "size": {"0": 327.1990661621094, "1": 94.58134460449219}, "flags": {}, "order": 9, "mode": 0, "inputs": [], "outputs": [{"name": "NOISE", "type": "NOISE", "links": [37], "shape": 3}], "properties": {"Node name for S&R": "RandomNoise"}, "widgets_values": [855880747817256, "randomize"]}, {"id": 86, "type": "UltimateSDUpscale", "pos": {"0": 1632, "1": 158}, "size": {"0": 315, "1": 590}, "flags": {"collapsed": true}, "order": 27, "mode": 4, "inputs": [{"name": "image", "type": "IMAGE", "link": 129}, {"name": "model", "type": "MODEL", "link": 144}, {"name": "positive", "type": "CONDITIONING", "link": 145}, {"name": "negative", "type": "CONDITIONING", "link": 146}, {"name": "vae", "type": "VAE", "link": 147}, {"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 133}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [134], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "UltimateSDUpscale"}, "widgets_values": [1.4000000000000001, 848875430958298, "randomize", 30, 3.5, "dpmpp_2m", "karras", 0.26, "Linear", 512, 512, 8, 32, "None", 1, 64, 8, 16, "enable"]}, {"id": 74, "type": "Power Lora Loader (rgthree)", "pos": {"0": 16, "1": 1065}, "size": {"0": 340.520263671875, "1": 209.00221252441406}, "flags": {"pinned": false}, "order": 14, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 111, "dir": 3}, {"name": "clip", "type": "CLIP", "link": 156, "dir": 3}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [112], "slot_index": 0, "shape": 3, "dir": 4}, {"name": "CLIP", "type": "CLIP", "links": [113], "slot_index": 1, "shape": 3, "dir": 4}], "title": "FLUX LoRA's Loader", "properties": {"Show Strengths": "Single Strength"}, "widgets_values": [null, {"type": "PowerLoraLoaderHeaderWidget"}, {"on": true, "lora": "LineDrawing01a_CE_FLUX_AIT.safetensors", "strength": 1, "strengthTwo": null}, null, ""]}, {"id": 28, "type": "String Literal", "pos": {"0": 384, "1": 465}, "size": {"0": 328.4226989746094, "1": 228.04129028320312}, "flags": {}, "order": 10, "mode": 0, "inputs": [], "outputs": [{"name": "STRING", "type": "STRING", "links": [116], "slot_index": 0, "shape": 3}], "properties": {"Node name for S&R": "String Literal"}, "widgets_values": ["Surreal fantasy. A mystical princess. Ethereal beauty. Magical wonder. A princess castle in the background.\n\nline drawing outline for coloring book. \n\nlndrwngCE style"], "color": "#232", "bgcolor": "#353"}], "links": [[12, 10, 0, 8, 1, "VAE"], [19, 16, 0, 13, 2, "SAMPLER"], [20, 17, 0, 13, 3, "SIGMAS"], [23, 5, 0, 13, 4, "LATENT"], [24, 13, 0, 8, 0, "LATENT"], [30, 22, 0, 13, 1, "GUIDER"], [37, 25, 0, 13, 0, "NOISE"], [86, 6, 0, 60, 0, "CONDITIONING"], [87, 60, 0, 22, 1, "CONDITIONING"], [93, 61, 0, 17, 0, "MODEL"], [94, 61, 0, 22, 0, "MODEL"], [101, 70, 0, 5, 0, "INT"], [102, 70, 0, 61, 1, "INT"], [103, 71, 0, 5, 1, "INT"], [104, 71, 0, 61, 2, "INT"], [111, 12, 0, 74, 0, "MODEL"], [112, 74, 0, 61, 0, "MODEL"], [113, 74, 1, 6, 0, "CLIP"], [116, 28, 0, 76, 0, "STRING"], [117, 76, 0, 6, 1, "STRING"], [118, 77, 0, 76, 1, "STRING"], [126, 79, 0, 82, 0, "IMAGE"], [127, 79, 1, 83, 0, "IMAGE"], [128, 79, 2, 84, 0, "IMAGE"], [129, 79, 0, 86, 0, "IMAGE"], [133, 78, 0, 86, 5, "UPSCALE_MODEL"], [134, 86, 0, 87, 0, "IMAGE"], [135, 12, 0, 79, 1, "MODEL"], [138, 76, 0, 88, 1, "STRING"], [139, 88, 0, 79, 4, "CONDITIONING"], [140, 76, 1, 89, 1, "STRING"], [142, 89, 0, 79, 5, "CONDITIONING"], [143, 87, 0, 75, 0, "IMAGE"], [144, 12, 0, 86, 1, "MODEL"], [145, 88, 0, 86, 2, "CONDITIONING"], [146, 89, 0, 86, 3, "CONDITIONING"], [147, 10, 0, 86, 4, "VAE"], [148, 10, 0, 79, 3, "VAE"], [149, 8, 0, 79, 0, "IMAGE"], [150, 81, 0, 79, 6, "BBOX_DETECTOR"], [151, 8, 0, 90, 0, "IMAGE"], [152, 92, 0, 88, 0, "CLIP"], [153, 92, 0, 89, 0, "CLIP"], [154, 11, 0, 92, 0, "CLIP"], [155, 92, 0, 79, 2, "CLIP"], [156, 92, 0, 74, 1, "CLIP"]], "groups": [{"title": "Load FLUX.1", "bounding": [0, 0, 369, 693], "color": "#3f789e", "font_size": 24, "flags": {}}, {"title": "Set Parameters", "bounding": [0, 709, 725, 602], "color": "#3f789e", "font_size": 24, "flags": {}}, {"title": "Conditioning", "bounding": [380, 0, 298, 417], "color": "#3f789e", "font_size": 24, "flags": {}}, {"title": "1st Pass", "bounding": [1170, 0, 393, 601], "color": "#3f789e", "font_size": 24, "flags": {}}, {"title": "Output", "bounding": [1599, 404, 672, 593], "color": "#3f789e", "font_size": 24, "flags": {}}, {"title": "Styler", "bounding": [740, 10, 422, 1028], "color": "#3f789e", "font_size": 24, "flags": {}}], "config": {}, "extra": {"ds": {"scale": 1, "offset": [13.188580015026503, 2.00976709241165]}}, "version": 0.4, "widget_idx_map": {"16": {"sampler_name": 0}, "17": {"scheduler": 0}, "25": {"noise_seed": 0}, "79": {"seed": 3, "sampler_name": 7, "scheduler": 8}, "86": {"seed": 1, "sampler_name": 5, "scheduler": 6}}}